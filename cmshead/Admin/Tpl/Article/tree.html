{//文章选择栏目，可多选即一篇文章属于多个栏目没有主从之分，父级栏目不能选}
<ul class="tree treeFolder collapse">
	<volist name="list" id="vo">
	<li><a href="javascript:;"<if condition="!empty($_REQUEST['selroot']) || empty($vo['sub_category'])"> onclick="selectClass('{$vo.id}','{$vo.title}');"</if>>{$vo.title}</a>
		<notempty name="vo.sub_category">
			<ul>
				<volist name="vo.sub_category" id="sub_vo">
				<li><a href="javascript:;" onclick="selectClass('{$sub_vo.id}','{$sub_vo.title}');">{$sub_vo.title}</a></li>
				</volist>
			</ul>
		</notempty>
	</li>
	</volist>
</ul>
<script language="javascript">
function selectClass(cid,cname){
	if($('#{$cid}').length>0){
		var v = (","+$('#{$cid}').val()+",").indexOf(","+cid+",")>-1 ? 
			(","+$('#{$cid}').val()+",").replace(eval('/,'+cid+',|,'+cid+'|'+cid+',/g'),',') : 
			($('#{$cid}').val()+","+cid);
			v = v.replace(/^,|,$/g,'');
		$('#{$cid}').val(v);
	}
	if($('#{$cname}').length>0){
		var v = (","+$('#{$cname}').val()+",").indexOf(","+cname+",")>-1 ? 
			(","+$('#{$cname}').val()+",").replace(eval('/,'+cname+',|,'+cname+'|'+cname+',/g'),',') : 
			($('#{$cname}').val()+","+cname);
			v = v.replace(/^,|,$/g,'');
		$('#{$cname}').val(v);
	}
}
</script>