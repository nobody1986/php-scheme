(function(e){e.fn.__bind__=e.fn.bind;e.fn.__unbind__=e.fn.unbind;e.fn.__find__=e.fn.find;var d={version:"0.7.9",override:/keypress|keydown|keyup/g,triggersMap:{},specialKeys:{27:"esc",9:"tab",32:"space",13:"return",8:"backspace",145:"scroll",20:"capslock",144:"numlock",19:"pause",45:"insert",36:"home",46:"del",35:"end",33:"pageup",34:"pagedown",37:"left",38:"up",39:"right",40:"down",109:"-",112:"f1",113:"f2",114:"f3",115:"f4",116:"f5",117:"f6",118:"f7",119:"f8",120:"f9",121:"f10",122:"f11",123:"f12",
191:"/"},shiftNums:{"`":"~",1:"!",2:"@",3:"#",4:"$",5:"%",6:"^",7:"&",8:"*",9:"(","0":")","-":"_","=":"+",";":":","'":'"',",":"<",".":">","/":"?","\\":"|"},newTrigger:function(b,c,d){var a={};a[b]={};a[b][c]={cb:d,disableInInput:!1};return a}};d.specialKeys=e.extend(d.specialKeys,{96:"0",97:"1",98:"2",99:"3",100:"4",101:"5",102:"6",103:"7",104:"8",105:"9",106:"*",107:"+",109:"-",110:".",111:"/"});e.fn.find=function(b){this.query=b;return e.fn.__find__.apply(this,arguments)};e.fn.unbind=function(b,
c,k){e.isFunction(c)&&(k=c,c=null);if(c&&"string"===typeof c)for(var a=(this.prevObject&&this.prevObject.query||this[0].id&&this[0].id||this[0]).toString(),f=b.split(" "),g=0;g<f.length;g++)delete d.triggersMap[a][f[g]][c];return this.__unbind__(b,k)};e.fn.bind=function(b,c,k){var a=b.match(d.override);if(e.isFunction(c)||!a||null==c)return this.__bind__.apply(this,arguments);var f=null,g=e.trim(b.replace(d.override,""));g&&(f=this.__bind__(g,c,k));"string"===typeof c&&(c={combi:c});if(c.combi)for(g=
0;g<a.length;g++){var f=a[g],h=c.combi.toLowerCase(),m=d.newTrigger(f,h,k),j=(this.prevObject&&this.prevObject.query||this[0].id&&this[0].id||this[0]).toString();m[f][h].disableInInput=c.disableInInput;d.triggersMap[j]?d.triggersMap[j][f]||(d.triggersMap[j][f]=m[f]):d.triggersMap[j]=m;var n=d.triggersMap[j][f][h];n?n.constructor!==Array?d.triggersMap[j][f][h]=[n]:d.triggersMap[j][f][h][n.length]=m[f][h]:d.triggersMap[j][f][h]=[m[f][h]];this.each(function(){var a=e(this);a.attr("hkId")&&a.attr("hkId")!==
j&&(j=a.attr("hkId")+";"+j);a.attr("hkId",j)});f=this.__bind__(a.join(" "),c,d.handler)}return f};d.findElement=function(b){if(!e(b).attr("hkId")&&(e.browser.opera||e.browser.safari))for(;!e(b).attr("hkId")&&b.parentNode;)b=b.parentNode;return b};d.handler=function(b){var c=d.findElement(b.currentTarget),c=e(c),k=c.attr("hkId");if(k){for(var k=k.split(";"),a=b.which,f=b.type,g=d.specialKeys[a],h=!g&&String.fromCharCode(a).toLowerCase(),m=b.shiftKey,j=b.ctrlKey,n=b.altKey||b.originalEvent.altKey,l=
null,a=0;a<k.length;a++)if(d.triggersMap[k[a]][f]){l=d.triggersMap[k[a]][f];break}if(l&&(!m&&!j&&!n?g=l[g]||h&&l[h]:(a="",n&&(a+="alt+"),j&&(a+="ctrl+"),m&&(a+="shift+"),(g=l[a+g])||h&&(g=l[a+h]||l[a+d.shiftNums[h]]||"shift+"===a&&l[d.shiftNums[h]])),g)){h=!1;for(a=0;a<g.length;a++){if(g[a].disableInInput&&(l=e(b.target),c.is("input")||c.is("textarea")||c.is("select")||l.is("input")||l.is("textarea")||l.is("select")))return!0;h=h||g[a].cb.apply(this,[b])}return h}}};window.hotkeys=d;return e})(jQuery);
